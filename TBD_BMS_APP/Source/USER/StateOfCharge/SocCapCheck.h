//=======================================Copyright(c)===========================================
// 								  深圳易马达科技有限公司
//---------------------------------------文件信息----------------------------------------------
//文件名   	: SocPointCorr.h
//创建人  	: Handry
//创建日期	:
//描述	    : SOC容量修正模块头文件
//-----------------------------------------------当前版本修订----------------------------------
//修改人   	:
//版本	    :
//修改日期	:
//描述	    :
//=============================================================================================
#ifndef _SOCCAPCHECK_H
#define _SOCCAPCHECK_H

//=============================================================================================
//包含头文件
//=============================================================================================
#include "BSPTypedef.h"

//=============================================================================================
//宏参数设定
//=============================================================================================
#define  CAP_CHECK_ENABLE       1       //总容量检测使能
#define  CAP_CHECK_RECORD_T     60      //容量检测时间记录时间间隔(s)

#define  CAP_CHECK_MAX_TIME     43200   //容量检测最大有效时间 s  半天内同时出现
#define  CAP_CHECK_MIN_TIME     1       //容量检测最小有效时间 s
       
//=============================================================================================
//定义数据类型
//=============================================================================================
//容量检测记录信息
typedef struct
{
    u8 valid;          //是否有效
    u32 chgCap;         //充电电量
    u32 dchgCap;        //放电电量
    u32 allCap;         //检测到的总容量
    u32 timer;          //经历时间
}t_CapCheck; 

//=============================================================================================
//声明全局变量
//=============================================================================================

//=============================================================================================
//声明接口函数
//=============================================================================================
//函数名称	: t_CapCheck *TotalCapCheckGetPVHPoint(void)
//输入参数	: void
//输出参数	: t_CapCheck *
//函数功能	: 容量检测高压点指针获取
//注意事项	:  
//=============================================================================================
t_CapCheck *TotalCapCheckGetPVHPoint(void);

//=============================================================================================
//函数名称	: t_CapCheck *TotalCapCheckGetPVLPoint(void)
//输入参数	: void
//输出参数	: t_CapCheck *
//函数功能	: 容量检测低压点指针获取
//注意事项	:  
//=============================================================================================
t_CapCheck *TotalCapCheckGetPVLPoint(void);


//=============================================================================================
//函数名称	: void TotalCapCheckInit(void) 
//输入参数	: void  
//输出参数	: void
//函数功能	: 总容量检测初始化
//注意事项	:  
//=============================================================================================
void TotalCapCheckInit(void);

//=============================================================================================
//函数名称	: void TotalCapCheckTask(void) 
//输入参数	: void  
//输出参数	: void
//函数功能	: 电池串总容量检测任务 
//注意事项	: 1s
//=============================================================================================
void TotalCapCheckTask(void);

#endif

/*****************************************end of SocCapCheck.h*****************************************/
